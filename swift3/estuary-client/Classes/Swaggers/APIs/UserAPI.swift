//
// UserAPI.swift
//
// Generated by swagger-codegen
// https://github.com/swagger-api/swagger-codegen
//

import Foundation
import Alamofire


open class UserAPI: APIBase {
    /**
     Get API keys for a user
     - parameter completion: completion handler to receive the data and the error objects
     */
    open class func userApiKeysGet(completion: @escaping ((_ data: [MainGetApiKeysResp]?, _ error: ErrorResponse?) -> Void)) {
        userApiKeysGetWithRequestBuilder().execute { (response, error) -> Void in
            completion(response?.body, error)
        }
    }


    /**
     Get API keys for a user
     - GET /user/api-keys
     - This endpoint is used to get API keys for a user. In estuary, each user can be given multiple API keys (tokens). This endpoint can be used to retrieve all available API keys for a given user.
     - API Key:
       - type: apiKey Authorization 
       - name: bearerAuth
     - examples: [{contentType=application/json, example={}}]
     - returns: RequestBuilder<[MainGetApiKeysResp]> 
     */
    open class func userApiKeysGetWithRequestBuilder() -> RequestBuilder<[MainGetApiKeysResp]> {
        let path = "/user/api-keys"
        let URLString = estuary-clientAPI.basePath + path
        let parameters: [String:Any]? = nil
        
        let url = URLComponents(string: URLString)

        let requestBuilder: RequestBuilder<[MainGetApiKeysResp]>.Type = estuary-clientAPI.requestBuilderFactory.getBuilder()

        return requestBuilder.init(method: "GET", URLString: (url?.string ?? URLString), parameters: parameters, isBody: false)
    }

    /**
     Revoke a User API Key.
     - parameter key: (path) Key 
     - parameter completion: completion handler to receive the data and the error objects
     */
    open class func userApiKeysKeyDelete(key: String, completion: @escaping ((_ error: ErrorResponse?) -> Void)) {
        userApiKeysKeyDeleteWithRequestBuilder(key: key).execute { (response, error) -> Void in
            completion(error)
        }
    }


    /**
     Revoke a User API Key.
     - DELETE /user/api-keys/{key}
     - This endpoint is used to revoke a user API key. In estuary, every user is assigned with an API key, this API key is generated and issued for each user and is primarily use to access all estuary features. This endpoint can be used to revoke the API key thats assigned to the user.
     - API Key:
       - type: apiKey Authorization 
       - name: bearerAuth
     - parameter key: (path) Key 
     - returns: RequestBuilder<Void> 
     */
    open class func userApiKeysKeyDeleteWithRequestBuilder(key: String) -> RequestBuilder<Void> {
        var path = "/user/api-keys/{key}"
        let keyPreEscape = "\(key)"
        let keyPostEscape = keyPreEscape.addingPercentEncoding(withAllowedCharacters: .urlPathAllowed) ?? ""
        path = path.replacingOccurrences(of: "{key}", with: keyPostEscape, options: .literal, range: nil)
        let URLString = estuary-clientAPI.basePath + path
        let parameters: [String:Any]? = nil
        
        let url = URLComponents(string: URLString)

        let requestBuilder: RequestBuilder<Void>.Type = estuary-clientAPI.requestBuilderFactory.getBuilder()

        return requestBuilder.init(method: "DELETE", URLString: (url?.string ?? URLString), parameters: parameters, isBody: false)
    }

    /**
     Create API keys for a user
     - parameter expiry: (query) Expiration - Expiration - Valid time units are ns, us (or µs), ms, s, m, h. for example 300h (optional)
     - parameter perms: (query) Permissions -- currently unused (optional)
     - parameter completion: completion handler to receive the data and the error objects
     */
    open class func userApiKeysPost(expiry: String? = nil, perms: String? = nil, completion: @escaping ((_ data: MainGetApiKeysResp?, _ error: ErrorResponse?) -> Void)) {
        userApiKeysPostWithRequestBuilder(expiry: expiry, perms: perms).execute { (response, error) -> Void in
            completion(response?.body, error)
        }
    }


    /**
     Create API keys for a user
     - POST /user/api-keys
     - This endpoint is used to create API keys for a user. In estuary, each user is given an API key to access all features.
     - API Key:
       - type: apiKey Authorization 
       - name: bearerAuth
     - examples: [{contentType=application/json, example={"empty": false}}]
     - parameter expiry: (query) Expiration - Expiration - Valid time units are ns, us (or µs), ms, s, m, h. for example 300h (optional)
     - parameter perms: (query) Permissions -- currently unused (optional)
     - returns: RequestBuilder<MainGetApiKeysResp> 
     */
    open class func userApiKeysPostWithRequestBuilder(expiry: String? = nil, perms: String? = nil) -> RequestBuilder<MainGetApiKeysResp> {
        let path = "/user/api-keys"
        let URLString = estuary-clientAPI.basePath + path
        let parameters: [String:Any]? = nil
        
        var url = URLComponents(string: URLString)
        url?.queryItems = APIHelper.mapValuesToQueryItems(values:[
            "expiry": expiry,
            "perms": perms
        ])

        let requestBuilder: RequestBuilder<MainGetApiKeysResp>.Type = estuary-clientAPI.requestBuilderFactory.getBuilder()

        return requestBuilder.init(method: "POST", URLString: (url?.string ?? URLString), parameters: parameters, isBody: false)
    }

    /**
     Export user data
     - parameter completion: completion handler to receive the data and the error objects
     */
    open class func userExportGet(completion: @escaping ((_ data: String?, _ error: ErrorResponse?) -> Void)) {
        userExportGetWithRequestBuilder().execute { (response, error) -> Void in
            completion(response?.body, error)
        }
    }


    /**
     Export user data
     - GET /user/export
     - This endpoint is used to get API keys for a user.
     - API Key:
       - type: apiKey Authorization 
       - name: bearerAuth
     - examples: [{contentType=application/json, example={
  "bytes": [],
  "empty": true
}}]
     - returns: RequestBuilder<String> 
     */
    open class func userExportGetWithRequestBuilder() -> RequestBuilder<String> {
        let path = "/user/export"
        let URLString = estuary-clientAPI.basePath + path
        let parameters: [String:Any]? = nil
        
        let url = URLComponents(string: URLString)

        let requestBuilder: RequestBuilder<String>.Type = estuary-clientAPI.requestBuilderFactory.getBuilder()

        return requestBuilder.init(method: "GET", URLString: (url?.string ?? URLString), parameters: parameters, isBody: false)
    }

    /**
     Create API keys for a user
     - parameter completion: completion handler to receive the data and the error objects
     */
    open class func userStatsGet(completion: @escaping ((_ data: MainUserStatsResponse?, _ error: ErrorResponse?) -> Void)) {
        userStatsGetWithRequestBuilder().execute { (response, error) -> Void in
            completion(response?.body, error)
        }
    }


    /**
     Create API keys for a user
     - GET /user/stats
     - This endpoint is used to create API keys for a user.
     - API Key:
       - type: apiKey Authorization 
       - name: bearerAuth
     - examples: [{contentType=application/json, example={"empty": false}}]
     - returns: RequestBuilder<MainUserStatsResponse> 
     */
    open class func userStatsGetWithRequestBuilder() -> RequestBuilder<MainUserStatsResponse> {
        let path = "/user/stats"
        let URLString = estuary-clientAPI.basePath + path
        let parameters: [String:Any]? = nil
        
        let url = URLComponents(string: URLString)

        let requestBuilder: RequestBuilder<MainUserStatsResponse>.Type = estuary-clientAPI.requestBuilderFactory.getBuilder()

        return requestBuilder.init(method: "GET", URLString: (url?.string ?? URLString), parameters: parameters, isBody: false)
    }

}
